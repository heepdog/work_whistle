
<!DOCTYPE html>

<!--
Copyright 2015 Google Inc.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html>

<head>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>KMS Timeclock</title>
    <link rel="stylesheet" href="styles.css">
    <script src="timeclock.js"></script>
    <script>window.addEventListener("load",function(){ getSchedules()})</script>

</head>

<body>
    <h1>KMS Timeclock</h1>
    <div><div class="schedule-header"><h4>Schedule List</h4> <button class="add-button" id="NewScheduleModalbutton">Add Schedule</button></div>
        <ol class="weekday-list"></ol>
    </div>

<!-- This is the modal form to add an alert to the schedule that was clicked -->
<div id="formAdd" class="modal">
    <div class="add-alert-content">
        <span class="modal-close">&times;</span>
        <form id="AddAlertForm">
            <label for="alertTime">Add Alert to <span id="ScheduleName"></span>:</label><input type="time" name="alertTime" id="alertTime">
            <input type="button" value="Submit" id="alertAddSubmit">
        </form>
    </div>
</div>

<!-- This is the modal form to create a new Schedule -->
<div id="NewScheduleModal" class="modal">
    <div class="add-alert-content">
        <span class="modal-close">&times;</span>
        <form id="NewScheduleForm">
            <label for="NewScheduleName">New Schedule Name:</label><input type="text" name="NewScheduleName" id="NewScheduleName">
            <input type="button" value="Submit" id="NewScheduleNameSubmit">
        </form>
    </div>
</div>


</body>

<script>
    // adds on click to any item in the schedule list
    document.getElementsByClassName("weekday-list")[0].addEventListener("click", addScheduleToDay);
    // hides the addAlert modal if the close button is clicked or the form is clicked off
    document.getElementsByClassName("modal-close")[0].addEventListener("click", HideModal);
    // submit button to send data to add an alert to the server
    document.getElementById("AddAlertForm").addEventListener("submit",function(event){event.preventDefault();});
    document.getElementById("alertAddSubmit").addEventListener("click",AddAlertToSchedule);
    document.getElementById("alertTime").addEventListener("keyup",function (event) {if(event.keyCode ===13){event.preventDefault();document.getElementById("alertAddSubmit").click()}});
    // shows the new schedule modal form to create a new schedule
    document.getElementById("NewScheduleModalbutton").addEventListener("click", function (){document.getElementById("NewScheduleModal").style.display = "block";} );
    document.getElementsByClassName("modal-close")[1].addEventListener("click", HideModal);
    // submit button to send data to create a new schedule
    document.getElementById("NewScheduleForm").addEventListener("submit",function(event){event.preventDefault();});
    document.getElementById("NewScheduleNameSubmit").addEventListener("click",NewSchedule);
    document.getElementById("NewScheduleName").addEventListener("keyup",function (event) {if(event.keyCode ===13){event.preventDefault();document.getElementById("NewScheduleNameSubmit").click()}});

    window.addEventListener("click", function() {if(event.target.className == "modal"){HideModal()}})

</script>
</html>